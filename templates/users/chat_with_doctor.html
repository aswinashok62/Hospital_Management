{% extends 'patients/base.html' %}
{% block title %}Chat with Doctor{% endblock %}

{% block content %}
<div class="container mt-4">
    <h4 class="mb-3">Chat with Dr. {{ doctor.user.first_name }}</h4>
    
    <div class="chat-box border p-3 mb-3" style="height: 300px; overflow-y: scroll;">
        {% for msg in chat_messages %}
            <p><strong>{{ msg.sender }}:</strong> {{ msg.message }}</p>
        {% empty %}
            <p>No messages yet.</p>
        {% endfor %}
    </div>

    <form method="post">
        {% csrf_token %}
        <div class="input-group">
            <input type="text" name="message" class="form-control" placeholder="Type your message...">
            <button type="submit" class="btn btn-primary">Send</button>
        </div>
    </form>
</div>
{% endblock %}
